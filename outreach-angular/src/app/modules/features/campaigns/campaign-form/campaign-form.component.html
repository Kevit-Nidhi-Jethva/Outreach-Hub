<div class="campaign-form-container">
  <h2>{{ isEdit ? 'Edit Campaign' : 'Create Campaign' }}</h2>
  <form [formGroup]="form" (ngSubmit)="submit()">
    <div class="form-group">
      <label for="name">Campaign Name</label>
      <input id="name" formControlName="name" type="text" />
    </div>

    <div class="form-group">
      <label for="description">Description</label>
      <textarea id="description" formControlName="description"></textarea>
    </div>

    <div class="form-group">
      <label for="status">Status</label>
      <select id="status" formControlName="status">
        <option value="Draft">Draft</option>
        <option value="Running">Running</option>
        <option value="Completed">Completed</option>
      </select>
    </div>

    <div class="form-group">
      <label for="tags">Select Tags</label>
      <input id="tags" type="text" placeholder="Comma-separated tags" 
             (input)="form.get('selectedTags')?.setValue($any($event.target).value.split(','))" />
    </div>

    <div class="form-group">
      <label for="template">Select Template</label>
      <select id="template" formControlName="templateId" (change)="onTemplateChange($event.target.value)">
        <option value="">--Select Template--</option>
        <option *ngFor="let t of templates" [value]="t.id">{{ t.name }}</option>
      </select>
    </div>

    <div formGroupName="message" class="message-group">
      <label>Message Type: {{ form.get('message.type')?.value }}</label>
      <textarea formControlName="text" placeholder="Enter message text"></textarea>
      <input *ngIf="form.get('message.type')?.value === 'Text-Image'" formControlName="imageUrl" type="text" placeholder="Image URL" />
    </div>

    <button type="submit">{{ isEdit ? 'Update' : 'Create' }} Campaign</button>
  </form>
</div>
