<div class="campaigns-list container mt-3">
  <div class="d-flex mb-3 align-items-center">
    <h3 class="m-0">Campaigns</h3>
    <div class="ms-auto">
      <button class="btn btn-success" (click)="newCampaign()">+ New Campaign</button>
    </div>
  </div>

  <div *ngIf="loading" class="text-center py-4">
    <div class="spinner-border" role="status"><span class="visually-hidden">Loading...</span></div>
  </div>

  <table *ngIf="!loading && campaigns.length > 0" class="table table-striped">
    <thead>
      <tr>
        <th>Name</th>
        <th>Message Type</th>
        <th>Status</th>
        <th>Created At</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let c of campaigns">
        <td>{{ c.name }}</td>
        <td>{{ c.message?.type || '-' }}</td>
        <td>{{ c.status || 'Draft' }}</td>
        <td>{{ c.createdAt | date:'short' }}</td>
        <td>
          <button class="btn btn-sm btn-outline-primary me-1" (click)="viewCampaign(c._id)">View</button>
          <button class="btn btn-sm btn-outline-secondary me-1" (click)="editCampaign(c._id)">Edit</button>
          <button class="btn btn-sm btn-outline-danger" (click)="deleteCampaign(c._id)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="!loading && campaigns.length === 0" class="text-muted">
    No campaigns found for this workspace.
  </div>
</div>
