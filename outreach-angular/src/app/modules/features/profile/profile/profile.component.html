<div class="profile-container">
  <!-- Header Section -->
  <div class="profile-header">
    <div class="profile-info">
      <div class="user-avatar">
        <span class="avatar-text">{{ getInitials(currentUserName) }}</span>
      </div>
      <div class="user-details">
        <h1>{{ currentUserName }}</h1>
        <p class="user-email">{{ currentUserEmail }}</p>
        <p class="workspace-info">Workspace: {{ selectedWorkspaceName }}</p>
      </div>
    </div>
  </div>

  <!-- Statistics Cards -->
  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-icon campaigns">
        <i class="pi pi-megaphone"></i>
      </div>
      <div class="stat-content">
        <h3>{{ totalCampaigns }}</h3>
        <p>Total Campaigns</p>
        <small>Created by you</small>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon contacts">
        <i class="pi pi-users"></i>
      </div>
      <div class="stat-content">
        <h3>{{ totalContacts }}</h3>
        <p>Total Contacts</p>
        <small>Added by you</small>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon templates">
        <i class="pi pi-credit-card"></i>
      </div>
      <div class="stat-content">
        <h3>{{ totalTemplates }}</h3>
        <p>Total Templates</p>
        <small>Created by you</small>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon messages">
        <i class="pi pi-envelope"></i>
      </div>
      <div class="stat-content">
        <h3>{{ totalSentMessages }}</h3>
        <p>Messages Sent</p>
        <small>From your campaigns</small>
      </div>
    </div>
  </div>

  <!-- Charts Section -->
  <div class="charts-section">
    <div class="section-header">
      <h2>Analytics Overview</h2>
      <p>Your personal activity analysis in {{ selectedWorkspaceName }}</p>
    </div>

    <div class="charts-grid">
      <!-- Line Chart - Campaigns Over Time -->
      <div class="chart-card">
        <h4>Campaigns Created Over Time</h4>
        <div class="chart-container">
          <canvas
            baseChart
            [data]="lineChartData"
            [options]="lineChartOptions"
            [type]="lineChartType">
          </canvas>
        </div>
      </div>

      <!-- Bar Chart - Contacts Over Time -->
      <div class="chart-card">
        <h4>Contacts Added Over Time</h4>
        <div class="chart-container">
          <canvas
            baseChart
            [data]="barChartData"
            [options]="barChartOptions"
            [type]="barChartType">
          </canvas>
        </div>
      </div>

      <!-- Doughnut Chart - Template Types -->
      <div class="chart-card">
        <h4>Template Types Distribution</h4>
        <div class="chart-container">
          <canvas
            baseChart
            [data]="doughnutChartData"
            [options]="doughnutChartOptions"
            [type]="doughnutChartType">
          </canvas>
        </div>
      </div>

      <!-- Pie Chart - Campaign Status -->
      <div class="chart-card">
        <h4>Campaign Status Distribution</h4>
        <div class="chart-container">
          <canvas
            baseChart
            [data]="pieChartData"
            [options]="pieChartOptions"
            [type]="pieChartType">
          </canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- Recent Activity Section -->
  <div class="activity-section">
    <div class="section-header">
      <h2>Recent Activity</h2>
      <p>Your latest campaigns, contacts, and templates</p>
    </div>

    <div class="activity-grid">
      <!-- Latest Campaigns -->
      <div class="activity-card">
        <h4>Latest Campaigns</h4>
        <div class="activity-list">
          <div *ngFor="let campaign of latestCampaigns" class="activity-item">
            <div class="activity-icon">
              <i class="pi pi-megaphone"></i>
            </div>
            <div class="activity-content">
              <p class="activity-title">{{ campaign.name }}</p>
              <p class="activity-meta">{{ campaign.status }} â€¢ {{ campaign.createdAt | date:'short' }}</p>
            </div>
          </div>
          <div *ngIf="latestCampaigns.length === 0" class="no-activity">
            <p>No campaigns created yet</p>
          </div>
        </div>
      </div>

      <!-- Most Used Tags -->
      <div class="activity-card">
        <h4>Most Used Tags</h4>
        <div class="activity-list">
          <div *ngFor="let tag of mostUsedTags" class="activity-item">
            <div class="activity-icon">
              <i class="pi pi-tag"></i>
            </div>
            <div class="activity-content">
              <p class="activity-title">{{ tag.tag }}</p>
              <p class="activity-meta">{{ tag.count }} contacts</p>
            </div>
          </div>
          <div *ngIf="mostUsedTags.length === 0" class="no-activity">
            <p>No tags used yet</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
